import{r,j as t,J as K,d as T,f as U,n as W,M as X,P as V,Q as Y}from"./index-CO07VfhB.js";import{R as v,C as j,S as q,F as H}from"./Heading-DsbmKIAi.js";import{a as P}from"./warning-Dz1zIpaj.js";var f=function(){return f=Object.assign||function(a){for(var o,n=1,c=arguments.length;n<c;n++){o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(a[i]=o[i])}return a},f.apply(this,arguments)};function J(e,a){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,n=Object.getOwnPropertySymbols(e);c<n.length;c++)a.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(o[n[c]]=e[n[c]]);return o}var Z=(function(){return Math.random().toString(36).substring(6)}),ee=function(e){var a=e.animate,o=a===void 0?!0:a,n=e.backgroundColor,c=n===void 0?"#f5f6f7":n,i=e.backgroundOpacity,d=i===void 0?1:i,s=e.baseUrl,l=s===void 0?"":s,h=e.children,u=e.foregroundColor,x=u===void 0?"#eee":u,m=e.foregroundOpacity,$=m===void 0?1:m,w=e.gradientRatio,C=w===void 0?2:w,R=e.uniqueKey,k=e.rtl,M=k===void 0?!1:k,b=e.speed,F=b===void 0?1.2:b,E=e.style,B=E===void 0?{}:E,_=e.title,I=_===void 0?"Loading...":_,L=e.beforeMask,p=L===void 0?null:L,Q=J(e,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","style","title","beforeMask"]),y=R||Z(),O="".concat(y,"-diff"),S="".concat(y,"-animated-diff"),A="".concat(y,"-aria"),D=M?{transform:"scaleX(-1)"}:null,G="".concat(F,"s"),N="".concat(C*-1," 0"),z="".concat(C," 0");return r.createElement("svg",f({"aria-labelledby":A,role:"img",style:f(f({},B),D)},Q),I?r.createElement("title",{id:A},I):null,p&&r.isValidElement(p)?p:null,r.createElement("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url(".concat(l,"#").concat(O,")"),style:{fill:"url(".concat(l,"#").concat(S,")")}}),r.createElement("defs",null,r.createElement("clipPath",{id:O},h),r.createElement("linearGradient",{id:S,gradientTransform:"translate(".concat(N,")")},r.createElement("stop",{offset:"0%",stopColor:c,stopOpacity:d}),r.createElement("stop",{offset:"50%",stopColor:x,stopOpacity:$}),r.createElement("stop",{offset:"100%",stopColor:c,stopOpacity:d}),o&&r.createElement("animateTransform",{attributeName:"gradientTransform",type:"translate",values:"".concat(N,"; 0 0; ").concat(z),dur:G,repeatCount:"indefinite"}))))},g=function(e){return e.children?r.createElement(ee,f({},e)):r.createElement(te,f({},e))},te=function(e){return r.createElement(g,f({viewBox:"0 0 476 124"},e),r.createElement("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),r.createElement("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),r.createElement("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),r.createElement("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),r.createElement("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),r.createElement("circle",{cx:"20",cy:"20",r:"20"}))};const re=()=>t.jsx(v,{children:t.jsx(j,{children:t.jsxs(g,{speed:2,width:500,height:210,viewBox:"0 0 500 210",backgroundColor:"#f0f0f0",foregroundColor:"#ffffff",children:[t.jsx("rect",{x:"140",y:"2",rx:"3",ry:"3",width:"105",height:"8"}),t.jsx("rect",{x:"6",y:"2",rx:"0",ry:"0",width:"119",height:"178"}),t.jsx("rect",{x:"141",y:"19",rx:"3",ry:"3",width:"86",height:"9"}),t.jsx("rect",{x:"140",y:"141",rx:"0",ry:"0",width:"96",height:"37"})]})})}),ne=()=>{const e=Array.from({length:4},(a,o)=>t.jsx(j,{xs:3,className:"d-flex justify-content-center mb-5 mt-2",children:t.jsxs(g,{speed:2,width:190,height:300,viewBox:"0 0 190 300",backgroundColor:"#f0f0f0",foregroundColor:"#ffffff",children:[t.jsx("rect",{x:"32",y:"179",rx:"3",ry:"3",width:"105",height:"8"}),t.jsx("rect",{x:"31",y:"4",rx:"0",ry:"0",width:"119",height:"162"}),t.jsx("rect",{x:"32",y:"199",rx:"3",ry:"3",width:"86",height:"9"}),t.jsx("rect",{x:"32",y:"220",rx:"3",ry:"3",width:"86",height:"9"}),t.jsx("rect",{x:"31",y:"239",rx:"0",ry:"0",width:"118",height:"31"})]})},o));return t.jsx(v,{children:e})},oe=()=>{const e=Array.from({length:4},(a,o)=>t.jsx(j,{sx:3,className:"d-flex justify-content-center mb-5 mt-2",children:t.jsxs(g,{speed:2,width:200,height:200,viewBox:"0 0 200 200",backgroundColor:"#f0f0f0",foregroundColor:"#ffffff",children:[t.jsx("rect",{x:"61",y:"179",rx:"3",ry:"3",width:"85",height:"6"}),t.jsx("circle",{cx:"104",cy:"84",r:"84"})]})},o));return t.jsx(v,{children:e})},ce={category:oe,product:ne,cart:re},Te=({loading:e,error:a,children:o,type:n})=>{if(e==="pending"){const c=ce[n];return t.jsx(c,{})}return e==="failed"?t.jsx("div",{children:t.jsx(K,{type:"error",message:a})}):t.jsx(t.Fragment,{children:o})},ae=e=>r.createElement("svg",{fill:"#ED4D5E",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"21px",height:"21px",viewBox:"0 0 96.294 96.294",xmlSpace:"preserve",...e},r.createElement("g",null,r.createElement("path",{d:"M64.755,14.763c11.324,0,20.537,9.214,20.537,20.538c0,11.024-18.056,30.068-37.148,44.51 C29.066,65.389,11,46.337,11,35.301c0-11.324,9.213-20.538,20.537-20.538c3.836,0,7.572,1.062,10.806,3.07l5.803,3.605l5.804-3.604 C57.184,15.825,60.919,14.763,64.755,14.763 M64.755,3.763c-5.909,0-11.625,1.63-16.609,4.726 c-4.984-3.096-10.699-4.726-16.609-4.726C14.147,3.763,0,17.91,0,35.301c0,22.539,38.227,51.024,45.892,56.507 c0.663,0.473,1.442,0.723,2.255,0.723c0.816,0,1.599-0.252,2.257-0.727c7.664-5.483,45.89-33.981,45.89-56.503 C96.292,17.911,82.145,3.763,64.755,3.763L64.755,3.763z"}))),ie=e=>r.createElement("svg",{fill:"#ED4D5E",height:"21px",width:"21px",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 51.997 51.997",xmlSpace:"preserve",...e},r.createElement("path",{d:"M51.911,16.242C51.152,7.888,45.239,1.827,37.839,1.827c-4.93,0-9.444,2.653-11.984,6.905 c-2.517-4.307-6.846-6.906-11.697-6.906c-7.399,0-13.313,6.061-14.071,14.415c-0.06,0.369-0.306,2.311,0.442,5.478 c1.078,4.568,3.568,8.723,7.199,12.013l18.115,16.439l18.426-16.438c3.631-3.291,6.121-7.445,7.199-12.014 C52.216,18.553,51.97,16.611,51.911,16.242z"})),se=()=>{const e=T(),a=U(c=>c.auth.accessToken),o=W();return{requireAuth:c=>{if(!a){e(X(o.pathname));return}c()}}},le=({id:e,max:a,quantity:o})=>{const n=T(),{requireAuth:c}=se(),[i,d]=r.useState(!1),[s,l]=r.useState(!1),h=a-(o??0),u=h<=0;return{isLoading:i,isAddingWishlist:s,quantityReachedToMax:u,currentRemainingQuantity:h,handleAddToCart:()=>{i||(d(!0),n(Y(e)),setTimeout(()=>d(!1),300))},handelLikeToggle:()=>{c(()=>{s||(l(!0),n(V(e)).unwrap().then(()=>l(!1)).catch(()=>l(!1)))})}}},de="_product_1kpa8_1",he="_productImg_1kpa8_9",ue="_maximumNotice_1kpa8_34",me="_wishList_1kpa8_39",xe={product:de,productImg:he,maximumNotice:ue,wishList:me},{product:fe,productImg:ge,maximumNotice:pe,wishList:ye}=xe,ve=({id:e,title:a,price:o,img:n,max:c,quantity:i,isLiked:d})=>{const{isLoading:s,isAddingWishlist:l,quantityReachedToMax:h,currentRemainingQuantity:u,handleAddToCart:x,handelLikeToggle:m}=le({id:e,max:c,quantity:i});return t.jsxs("div",{className:fe,children:[t.jsx("div",{className:ye,onClick:m,children:l?t.jsx(q,{animation:"border",size:"sm",variant:"primary"}):d?t.jsx(ie,{}):t.jsx(ae,{})}),t.jsx("div",{className:ge,children:t.jsx("img",{src:n,alt:a})}),t.jsx("h2",{children:a}),t.jsxs("h3",{children:[o.toFixed(2)," EGP"]}),t.jsx("p",{className:pe,children:h?"You reach to the limit":`You can add ${u} item(s)`}),t.jsx(P,{variant:"info",style:{color:"white"},onClick:x,disabled:s||h,children:s?t.jsxs(t.Fragment,{children:[t.jsx(q,{animation:"border",size:"sm"})," Loading..."]}):"Add to cart"})]})},Pe=r.memo(ve),je="_cartItem_1q7qx_1",we="_product_1q7qx_10",Ce="_productImg_1q7qx_14",ke="_productInfo_1q7qx_20",be={cartItem:je,product:we,productImg:Ce,productInfo:ke},{cartItem:Ee,product:_e,productImg:Ie,productInfo:Le,cartItemSelection:Oe}=be,Se=({id:e,title:a,price:o,img:n,max:c,quantity:i,onChangeQuantity:d,onRemoveItem:s})=>{const l=Array.from({length:c},(u,x)=>{const m=x+1;return t.jsx("option",{value:m,children:m},m)}),h=u=>{const x=parseInt(u.target.value,10);d(e,x)};return t.jsxs("section",{className:Ee,children:[t.jsxs("div",{className:_e,children:[t.jsx("div",{className:Ie,children:t.jsx("img",{src:n,alt:a})}),t.jsxs("div",{className:Le,children:[t.jsx("h2",{children:a}),t.jsxs("h3",{children:[o.toFixed(2)," EGP"]}),t.jsx(P,{variant:"secondary",style:{color:"white",width:"100px"},className:"mt-auto",onClick:()=>s(e),children:"Remove"})]})]}),t.jsxs("div",{className:Oe,children:[t.jsx("span",{className:"d-block mb-1",children:"Quantity"}),t.jsx(H.Select,{value:i,onChange:h,children:l})]})]})},$e=r.memo(Se);export{$e as C,Te as L,Pe as P};
