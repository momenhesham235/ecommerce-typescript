import{r as n,j as t,Q as U,b as M,e as V,n as Y,V as H,W as J,X as y,Y as Z}from"./index-EH4w_4Ej.js";import{R as C,C as b}from"./Row-DV6HXUw5.js";import{S as R,F as tt}from"./Spinner-Ch8TXIx6.js";import{B}from"./Button-WzEuFqyK.js";var g=function(){return g=Object.assign||function(c){for(var s,r=1,o=arguments.length;r<o;r++){s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(c[i]=s[i])}return c},g.apply(this,arguments)};function et(e,c){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&c.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)c.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(s[r[o]]=e[r[o]]);return s}var rt=(function(){return Math.random().toString(36).substring(6)}),ot=function(e){var c=e.animate,s=c===void 0?!0:c,r=e.backgroundColor,o=r===void 0?"#f5f6f7":r,i=e.backgroundOpacity,a=i===void 0?1:i,d=e.baseUrl,x=d===void 0?"":d,m=e.children,h=e.foregroundColor,l=h===void 0?"#eee":h,u=e.foregroundOpacity,k=u===void 0?1:u,p=e.gradientRatio,_=p===void 0?2:p,Q=e.uniqueKey,E=e.rtl,q=E===void 0?!1:E,I=e.speed,D=I===void 0?1.2:I,S=e.style,z=S===void 0?{}:S,O=e.title,L=O===void 0?"Loading...":O,T=e.beforeMask,w=T===void 0?null:T,G=et(e,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","style","title","beforeMask"]),j=Q||rt(),A="".concat(j,"-diff"),P="".concat(j,"-animated-diff"),$="".concat(j,"-aria"),W=q?{transform:"scaleX(-1)"}:null,X="".concat(D,"s"),N="".concat(_*-1," 0"),K="".concat(_," 0");return n.createElement("svg",g({"aria-labelledby":$,role:"img",style:g(g({},z),W)},G),L?n.createElement("title",{id:$},L):null,w&&n.isValidElement(w)?w:null,n.createElement("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url(".concat(x,"#").concat(A,")"),style:{fill:"url(".concat(x,"#").concat(P,")")}}),n.createElement("defs",null,n.createElement("clipPath",{id:A},m),n.createElement("linearGradient",{id:P,gradientTransform:"translate(".concat(N,")")},n.createElement("stop",{offset:"0%",stopColor:o,stopOpacity:a}),n.createElement("stop",{offset:"50%",stopColor:l,stopOpacity:k}),n.createElement("stop",{offset:"100%",stopColor:o,stopOpacity:a}),s&&n.createElement("animateTransform",{attributeName:"gradientTransform",type:"translate",values:"".concat(N,"; 0 0; ").concat(K),dur:X,repeatCount:"indefinite"}))))},f=function(e){return e.children?n.createElement(ot,g({},e)):n.createElement(nt,g({},e))},nt=function(e){return n.createElement(f,g({viewBox:"0 0 476 124"},e),n.createElement("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),n.createElement("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),n.createElement("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),n.createElement("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),n.createElement("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),n.createElement("circle",{cx:"20",cy:"20",r:"20"}))};const st=()=>t.jsx(C,{children:t.jsx(b,{children:t.jsxs(f,{speed:2,width:500,height:210,viewBox:"0 0 500 210",backgroundColor:"#f0f0f0",foregroundColor:"#ffffff",children:[t.jsx("rect",{x:"140",y:"2",rx:"3",ry:"3",width:"105",height:"8"}),t.jsx("rect",{x:"6",y:"2",rx:"0",ry:"0",width:"119",height:"178"}),t.jsx("rect",{x:"141",y:"19",rx:"3",ry:"3",width:"86",height:"9"}),t.jsx("rect",{x:"140",y:"141",rx:"0",ry:"0",width:"96",height:"37"})]})})}),ct=()=>{const e=Array.from({length:4},(c,s)=>t.jsx(b,{xs:3,className:"d-flex justify-content-center mb-5 mt-2",children:t.jsxs(f,{speed:2,width:190,height:300,viewBox:"0 0 190 300",backgroundColor:"#f0f0f0",foregroundColor:"#ffffff",children:[t.jsx("rect",{x:"32",y:"179",rx:"3",ry:"3",width:"105",height:"8"}),t.jsx("rect",{x:"31",y:"4",rx:"0",ry:"0",width:"119",height:"162"}),t.jsx("rect",{x:"32",y:"199",rx:"3",ry:"3",width:"86",height:"9"}),t.jsx("rect",{x:"32",y:"220",rx:"3",ry:"3",width:"86",height:"9"}),t.jsx("rect",{x:"31",y:"239",rx:"0",ry:"0",width:"118",height:"31"})]})},s));return t.jsx(C,{children:e})},it=()=>{const e=Array.from({length:4},(c,s)=>t.jsx(b,{sx:3,className:"d-flex justify-content-center mb-5 mt-2",children:t.jsxs(f,{speed:2,width:200,height:200,viewBox:"0 0 200 200",backgroundColor:"#f0f0f0",foregroundColor:"#ffffff",children:[t.jsx("rect",{x:"61",y:"179",rx:"3",ry:"3",width:"85",height:"6"}),t.jsx("circle",{cx:"104",cy:"84",r:"84"})]})},s));return t.jsx(C,{children:e})},at=()=>t.jsxs(f,{speed:2,width:400,height:200,viewBox:"0 0 400 200",backgroundColor:"#f0f0f0",foregroundColor:"#ffffff",children:[t.jsx("rect",{x:"47",y:"61",rx:"0",ry:"0",width:"58",height:"12"}),t.jsx("rect",{x:"148",y:"61",rx:"0",ry:"0",width:"136",height:"12"}),t.jsx("rect",{x:"327",y:"61",rx:"0",ry:"0",width:"58",height:"12"}),t.jsx("rect",{x:"48",y:"82",rx:"0",ry:"0",width:"58",height:"12"}),t.jsx("rect",{x:"149",y:"82",rx:"0",ry:"0",width:"136",height:"12"}),t.jsx("rect",{x:"327",y:"83",rx:"0",ry:"0",width:"58",height:"12"}),t.jsx("rect",{x:"45",y:"102",rx:"0",ry:"0",width:"58",height:"12"}),t.jsx("rect",{x:"46",y:"123",rx:"0",ry:"0",width:"58",height:"12"}),t.jsx("rect",{x:"149",y:"123",rx:"0",ry:"0",width:"136",height:"12"}),t.jsx("rect",{x:"325",y:"124",rx:"0",ry:"0",width:"58",height:"12"}),t.jsx("rect",{x:"149",y:"103",rx:"0",ry:"0",width:"136",height:"12"}),t.jsx("rect",{x:"326",y:"103",rx:"0",ry:"0",width:"58",height:"12"}),t.jsx("rect",{x:"47",y:"141",rx:"0",ry:"0",width:"58",height:"12"}),t.jsx("rect",{x:"150",y:"141",rx:"0",ry:"0",width:"136",height:"12"}),t.jsx("rect",{x:"326",y:"142",rx:"0",ry:"0",width:"58",height:"12"})]}),lt={category:it,product:ct,cart:st,table:at},Ot=({loading:e,error:c,children:s,type:r})=>{if(e==="pending"){const o=lt[r];return t.jsx(o,{})}return e==="failed"?t.jsx("div",{children:t.jsx(U,{type:"error",message:c})}):t.jsx(t.Fragment,{children:s})},dt=e=>n.createElement("svg",{fill:"#ED4D5E",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"21px",height:"21px",viewBox:"0 0 96.294 96.294",xmlSpace:"preserve",...e},n.createElement("g",null,n.createElement("path",{d:"M64.755,14.763c11.324,0,20.537,9.214,20.537,20.538c0,11.024-18.056,30.068-37.148,44.51 C29.066,65.389,11,46.337,11,35.301c0-11.324,9.213-20.538,20.537-20.538c3.836,0,7.572,1.062,10.806,3.07l5.803,3.605l5.804-3.604 C57.184,15.825,60.919,14.763,64.755,14.763 M64.755,3.763c-5.909,0-11.625,1.63-16.609,4.726 c-4.984-3.096-10.699-4.726-16.609-4.726C14.147,3.763,0,17.91,0,35.301c0,22.539,38.227,51.024,45.892,56.507 c0.663,0.473,1.442,0.723,2.255,0.723c0.816,0,1.599-0.252,2.257-0.727c7.664-5.483,45.89-33.981,45.89-56.503 C96.292,17.911,82.145,3.763,64.755,3.763L64.755,3.763z"}))),ht=e=>n.createElement("svg",{fill:"#ED4D5E",height:"21px",width:"21px",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 51.997 51.997",xmlSpace:"preserve",...e},n.createElement("path",{d:"M51.911,16.242C51.152,7.888,45.239,1.827,37.839,1.827c-4.93,0-9.444,2.653-11.984,6.905 c-2.517-4.307-6.846-6.906-11.697-6.906c-7.399,0-13.313,6.061-14.071,14.415c-0.06,0.369-0.306,2.311,0.442,5.478 c1.078,4.568,3.568,8.723,7.199,12.013l18.115,16.439l18.426-16.438c3.631-3.291,6.121-7.445,7.199-12.014 C52.216,18.553,51.97,16.611,51.911,16.242z"})),ut=()=>{const e=M(),c=V(o=>o.auth.accessToken),s=Y();return{requireAuth:o=>{if(!c){e(H(s.pathname));return}o()}}},xt=({id:e,max:c,quantity:s,isLiked:r,title:o})=>{const i=M(),{requireAuth:a}=ut(),[d,x]=n.useState(!1),[m,h]=n.useState(!1),l=c-(s??0),u=l<=0;return{isLoading:d,isAddingWishlist:m,quantityReachedToMax:u,currentRemainingQuantity:l,handleAddToCart:()=>{d||(x(!0),i(Z(e)),i(y({type:"success",title:"add to cart",message:`Product "${o}" added to cart successfully!`})),l-1<=0&&i(y({type:"warning",title:"add to cart",message:`Product "${o}" is out of stock!`,delayAnimation:!0})),setTimeout(()=>x(!1),300))},handelLikeToggle:()=>{a(async()=>{if(!m){h(!0);try{await i(J(e)).unwrap(),i(y({type:r?"warning":"success",title:"wishlist",message:r?`Product "${o}" removed from wishlist!`:`Product "${o}" added to wishlist!`}))}catch{i(y({type:"danger",title:"wishlist",message:"Something went wrong, please try again."}))}finally{h(!1)}}})}}},v={"product-column":"_product-column_j5t4u_2","productImg-column":"_productImg-column_j5t4u_16","productInfo-column":"_productInfo-column_j5t4u_22","product-row":"_product-row_j5t4u_30","productImg-row":"_productImg-row_j5t4u_52","productInfo-row":"_productInfo-row_j5t4u_63"},F=({title:e,img:c,price:s,quantity:r,direction:o="row",children:i,style:a})=>t.jsxs("div",{className:`${v[`product-${o}`]}`,style:a,children:[t.jsx("div",{className:`${v[`productImg-${o}`]}`,children:t.jsx("img",{src:c,alt:e})}),t.jsxs("div",{className:`${v[`productInfo-${o}`]}`,children:[t.jsx("h2",{title:e,children:e}),t.jsxs("h3",{children:[s.toFixed(2)," EGP"]}),r&&t.jsxs("h3",{children:["Total Quantity: ",r]}),r&&t.jsxs("h3",{children:["Total Price: ",s*r]}),i]})]}),mt="_maximumNotice_osjpu_1",gt="_wishList_osjpu_6",ft={maximumNotice:mt,wishList:gt},{maximumNotice:yt,wishList:pt}=ft,wt=({id:e,title:c,price:s,img:r,max:o,quantity:i,isLiked:a})=>{const{isLoading:d,isAddingWishlist:x,quantityReachedToMax:m,currentRemainingQuantity:h,handleAddToCart:l,handelLikeToggle:u}=xt({id:e,max:o,quantity:i,isLiked:a,title:c});return t.jsxs(F,{title:c,img:r,price:s,children:[t.jsx("div",{className:pt,onClick:u,children:x?t.jsx(R,{animation:"border",size:"sm",variant:"primary"}):a?t.jsx(ht,{}):t.jsx(dt,{})}),t.jsx("p",{className:yt,children:m?"You reach to the limit":`You can add ${h} item(s)`}),t.jsx(B,{variant:"info",style:{color:"white"},onClick:l,disabled:d||m,children:d?t.jsxs(t.Fragment,{children:[t.jsx(R,{animation:"border",size:"sm"})," Loading..."]}):"Add to cart"})]})},Lt=n.memo(wt),jt="_cartItem_1yac0_1",vt={cartItem:jt},{cartItem:Ct,cartItemSelection:bt}=vt,kt=({id:e,title:c,price:s,img:r,max:o,quantity:i,onChangeQuantity:a,onRemoveItem:d})=>{const x=Array.from({length:o},(h,l)=>{const u=l+1;return t.jsx("option",{value:u,children:u},u)}),m=h=>{const l=parseInt(h.target.value,10);a(e,l)};return t.jsxs("section",{className:Ct,children:[t.jsx(F,{title:c,img:r,price:s,direction:"column",children:t.jsx(B,{variant:"secondary",style:{color:"white",width:"100px"},className:"mt-auto",onClick:()=>d(e),children:"Remove"})}),t.jsxs("div",{className:bt,children:[t.jsx("span",{className:"d-block mb-1",children:"Quantity"}),t.jsx(tt.Select,{value:i,onChange:m,children:x})]})]})},Tt=n.memo(kt);export{Tt as C,Ot as L,Lt as P,F as a,ut as u};
