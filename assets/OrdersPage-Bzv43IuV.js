import{r as h,u as $,c as g,j as e,b as y,e as P,T as w,P as D}from"./index-EH4w_4Ej.js";import{a as H,L as M}from"./CartItem-BYDv61PG.js";import{H as O}from"./Heading-I2qKyJvb.js";import{e as p}from"./Modal-D6OM5-7X.js";import"./Row-DV6HXUw5.js";import"./Spinner-Ch8TXIx6.js";import"./Button-WzEuFqyK.js";import"./warning-Cn0fKLcI.js";import"./CloseButton-B9LnBeMb.js";import"./useEventCallback-BSKAD5dq.js";import"./useMergedRefs-a46VnvFR.js";const b=h.forwardRef(({bsPrefix:r,className:l,striped:o,bordered:i,borderless:u,hover:a,size:c,variant:t,responsive:m,...x},d)=>{const s=$(r,"table"),j=g(l,s,t&&`${s}-${t}`,c&&`${s}-${c}`,o&&`${s}-${typeof o=="string"?`striped-${o}`:"striped"}`,i&&`${s}-bordered`,u&&`${s}-borderless`,a&&`${s}-hover`),n=e.jsx("table",{...x,className:j,ref:d});if(m){let f=`${s}-responsive`;return typeof m=="string"&&(f=`${f}-${m}`),e.jsx("div",{className:f,children:n})}return n});b.displayName="Table";const S=()=>{const r=y(),{loading:l,error:o,records:i}=P(d=>d.orders),[u,a]=h.useState(!1),[c,t]=h.useState([]),m=d=>{const j=i.find(n=>n.id===d)?.items??[];a(!0),t(n=>[...n,...j])},x=()=>{a(!1),t([])};return h.useEffect(()=>{const d=r(w());return()=>{d.abort(),r(D())}},[r]),{loading:l,error:o,records:i,showModal:u,selectedProduct:c,viewDetailsHandler:m,closeModalHandler:x}},R=()=>{const{loading:r,error:l,records:o,showModal:i,selectedProduct:u,viewDetailsHandler:a,closeModalHandler:c}=S();return e.jsxs(e.Fragment,{children:[e.jsxs(p,{show:i,onHide:c,scrollable:!0,centered:!0,fullscreen:"md-down",children:[e.jsx(p.Header,{closeButton:!0,children:e.jsx(p.Title,{children:"Products Details"})}),e.jsx(p.Body,{children:u.map(t=>e.jsx(H,{title:t.title,img:t.img,price:t.price,quantity:t.quantity,direction:"column",style:{marginBottom:"10px"}},t.id))})]}),e.jsx(O,{title:"My Order"}),e.jsx(M,{loading:r,error:l,type:"table",children:e.jsxs(b,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Order Number"}),e.jsx("th",{children:"Items"}),e.jsx("th",{children:"Total Price"})]})}),e.jsx("tbody",{children:o.map(t=>e.jsxs("tr",{children:[e.jsxs("td",{children:["#",t.id]}),e.jsxs("td",{children:[t.items.length," item(s)"," / ",e.jsx("span",{onClick:()=>a(t.id),style:{textDecoration:"underline",cursor:"pointer"},children:"Product Details"})]}),e.jsx("td",{children:t.subtotal.toFixed(2)})]},t.id))})]})})]})};export{R as default};
