import{k as g,d as x,h as j,e as f,r as S,l as b,j as s,m as v,n as w,f as E}from"./index-wnTk3KwH.js";import{u as A,a as F,A as r,I as c}from"./Input-CVWmnVlq.js";import{H as y,R as L,C as P,F as H,S as R}from"./Heading-RtEnZzgB.js";import{a as N}from"./warning-DFf_0RsR.js";import"./CloseButton-B0Lxnf2W.js";const Y=()=>{const[t,m]=g(),d=x(),e=j(),{loading:n,error:o}=f(a=>a.auth),{register:i,handleSubmit:u,formState:{errors:l,isValid:p}}=A({mode:"onBlur",shouldFocusError:!0,resolver:F(v)}),h=a=>{m({}),e(w(a)).unwrap().then(()=>d(E.HOME))};return S.useEffect(()=>()=>{e(b())},[e]),s.jsxs("section",{children:[s.jsx(y,{title:"User Login"}),s.jsx(L,{className:"my-2",children:s.jsxs(P,{md:{span:6,offset:3},children:[t.get("msg")&&s.jsx(r,{variant:"success",children:"You need to be login to view this content, please login"}),t.get("msg")&&s.jsxs(r,{variant:"success",children:["You account has been created, please login"," "]}),s.jsxs(H,{onSubmit:u(h),children:[s.jsx(c,{label:"Email",name:"email",register:i,error:l.email?.message||"",autoFocus:!0}),s.jsx(c,{label:"Password",name:"password",type:"password",register:i,error:l.password?.message||""}),s.jsx(N,{disabled:!p||n==="pending",variant:"info",type:"submit",style:{color:"white"},children:n==="pending"?s.jsxs(s.Fragment,{children:[s.jsx(R,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),s.jsx("span",{className:"visually-hidden",children:"Loading..."})]}):"Login"}),o&&s.jsxs(r,{variant:"danger mt-2",children:[" ",o," "]})]})]})})]})};export{Y as default};
